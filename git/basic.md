# 깃 개념

![](https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT2aRJR6dWUGsjhkUzKkGp-3787npBEJcJblg&s)

## 스냅샷

- 마치 폴라로이드 카메라로 풍경을 기록하듯이 파일의 상태를 기록하는 시스템
- 한 번 기록하면 변경할 수 없다

### 3가지 영역

- 작업트리 : 현재 컴퓨터에서 직접 보고 작업하는 프로젝트 폴더 그 자체를 의미합니다. 파일을 수정하고, 새로운 파일을 만들고, 삭제하는 모든 활동이 이 작업 트리에서 일어납니다.

- 스테이징 영역 : 커밋(commit)할 변경사항들을 미리 모아두는 가상의 공간입니다. 작업 트리에서 변경된 파일들 중, 저장소에 기록하고 싶은 것들만 선별하여 추가하는 곳입니다. git add 명령어를 사용해 파일을 스테이징 영역으로 옮깁니다.

- 저장소 : 프로젝트의 모든 변경 이력(커밋)이 영구적으로 저장되는 공간입니다. 스테이징 영역에 있던 파일들은 git commit 명령어를 통해 저장소에 기록됩니다.

## 파일의 3가지 상태

- 수정 : 작업 트리(Working Tree)에 있는 파일을 수정한 상태를 의미합니다. Git은 이 파일이 마지막으로 커밋된 버전과 다르다는 것을 인지하고 있지만, 아직 다음 커밋에 포함될 것이라고는 약속되지 않은 상태입니다.

- 스테이징 : 수정된(Modified) 파일을 다음 커밋에 포함시키겠다고 표시한 상태입니다. 즉, 커밋할 준비가 되었다는 의미입니다. git add 명령어를 사용해 파일을 'Modified' 상태에서 'Staged' 상태로 변경합니다.

- 커밋 : 스테이징된(Staged) 파일들을 로컬 저장소(Repository)에 안전하게 저장한 상태를 의미합니다. git commit 명령어를 실행하면 스테이징 영역에 있던 모든 변경사항들이 하나의 버전(스냅샷)으로 만들어져 저장소에 영구적으로 기록됩니다.

# 깃 명령어

## 변경된 파일을 스테이징 영역으로 이동하는 명령어

- `git add <파일명>`
- `git add .`

## 스테이징 영역에 있는 파일을 기록(커밋) 하는 명령어

- `git commit -m "커밋메시지"`

## 현재 파일 상태를 출력하는 명령어

- `git status`

# .gitignore

## 어떤 파일인가? 역할이 무엇인가?

- 정의:
  .gitignore는 Git에서 버전 관리 대상에서 제외할 파일이나 디렉토리를 명시하는 설정 파일입니다.

- 역할:
  - 캐시, 로그, 빌드 산출물, IDE 설정 파일처럼 공유할 필요 없는 파일을 관리에서 제외.
  - 팀 협업 시 불필요한 파일이 원격 저장소에 올라가는 것을 방지.
  - 보안상 민감한 정보(예: .env, 인증키 등)를 원격에 올리지 않도록 차단.

## .gitignore의 주의사항은 무엇인가?

- 이미 커밋된 파일은 .gitignore로 무시되지 않는다

  → .gitignore는 새로 추가되는 파일에만 적용. 이미 Git이 추적 중인 파일은 제외되지 않음.

  → 해결:

  ```
  git rm --cached <파일명>
  ```

- 순서 중요

  위에서 아래 순서대로 평가. 더 구체적인 패턴이 우선 적용됨.

- 패턴 문법 주의
  - / : 루트 기준
  - - : 와일드카드
  - ! : 무시하지 않을 예외 지정

예시 :

```
# 모든 .log 파일 무시
*.log

# error.log만 예외
!error.log
```

- 보안 주의
  .gitignore에 추가했다고 해서 이미 원격에 올라간 민감 정보가 삭제되는 것은 아님.
  → 이 경우 git filter-repo나 BFG Repo-Cleaner 같은 도구로 기록에서 완전히 제거해야 함.

## gitignore.io 는 어떤 서비스인가?

[gitignore.io](https://www.toptal.com/developers/gitignore/) 는 특정 언어, 프레임워크, IDE에 맞는 .gitignore 템플릿을 자동으로 생성해주는 서비스.

# github

## 원격 저장소 생성, 연결, 동기화

1. 원격 저장소 생성
2. 지역 저장소 - 원격 저장소 연결
3. 지역 저장소 -> 원격 저장소 push
4. 원격 저장소 파일 생성
5. 지역 저장소 <- 원격 저장소 pull

## git push origin main, origin이 무엇인가?

- `git push <원격저장소 이름> <브랜치명>`
- `git remote add <원격저장소 이름> <원격저장소 주소>`
- `origin` 이라는 원격저장소명은 관습적인 이름

## 원격 저장소란 무엇인가?

- 원격 저장소(Remote Repository) 는 인터넷이나 네트워크 서버에 위치한 Git 저장소입니다.
- 여러 개발자가 같은 프로젝트를 협업할 수 있도록 중앙 허브 역할을 합니다.
- 대표적인 서비스: GitHub, GitLab, Bitbucket, AWS CodeCommit 등
  **특징**
- 모든 팀원이 접근 가능
- 코드 백업 및 공유 가능
- Pull Request, 코드 리뷰, 브랜치 관리 등 협업 기능 제공

## 지역 저장소와 원격 저장소의 구분

| 구분               | 지역 저장소(Local)      | 원격 저장소(Remote)                 |
| ------------------ | ----------------------- | ----------------------------------- |
| 위치               | 개인 PC, 로컬 환경      | 서버, 클라우드 서비스               |
| 용도               | 개인 개발, 테스트       | 협업, 공유, 배포                    |
| 주요 명령어        | `git add`, `git commit` | `git push`, `git pull`, `git fetch` |
| 접근성             | 나 혼자 사용            | 여러 사람이 접근 가능               |
| 네트워크 필요 여부 | 불필요                  | 필요                                |

👉 즉, 지역 저장소는 내 컴퓨터 안에 있는 Git 저장소이고, 원격 저장소는 팀 전체가 공유하는 Git 저장소입니다.

## 지역 저장소와 원격 저장소의 동기화란 무엇인가?

### 동기화(Synchronization)

로컬과 원격의 **커밋 이력(히스토리)**을 일치시키는 과정

대표적으로 세 가지 방향이 있음:

---

### 🔼 Push (업로드)

- **지역 저장소 → 원격 저장소**
- 로컬에서 작업한 내용을 원격에 올려 팀원과 공유

명령어:

```bash
git push origin main
```

### 🔽 Pull (다운로드 + 병합)

- **원격 저장소 → 지역 저장소**
- 원격에 있는 최신 코드를 가져와 로컬에 병합

명령어:

```bash
git pull origin main
```

### Fetch (단순히 가져오기)

- 원격 저장소의 변경 사항을 확인만 하고 로컬 브랜치에 병합은 하지 않음

명령어:

```bash
git fetch origin
```

# git reset

## git reset 은 어떤 명령인가요?

현재 브랜치의 HEAD를 특정 커밋으로 이동시키는 명령

## git reset의 3가지 옵션은 무엇이고, 각 의미는 무엇인가요?

1. soft

- 커밋만 되돌리고 변경사항은 스테이징 영역에 유지
- 재커밋하기 전 수정이 필요한 경우 사용

2. mixed

- 커밋과 스테이징을 되돌리되 파일 변경사항은 유지
- 다시 선택적으로 add하여 커밋하고 싶을 때 사용

3. hard

- 모든 변경사항을 완전히 제거 (주의: 복구 불가)
- 특정 시점으로 완전히 되돌리고 싶을 때 사용

# git 정리

## 기억에 남는 git에 대항 내욜을 아래에 작성해보세요

## 1. git add

### 핵심 개념

작업 디렉토리의 변경사항을 **스테이징 영역**으로 올리는 명령.

### 패턴

```bash
# 모든 변경사항 스테이징
git add .

# 특정 파일만 스테이징
git add <특정 파일 경로>
```

### 기억에 남는 포인트

- `.gitignore`에 등록된 파일은 `git add .`로도 추가되지 않음
- 스테이징된 상태 확인: `git status`

---

## 2. git commit - 변경사항의 스냅샷

### 핵심 개념

스테이징 영역의 변경사항을 **로컬 저장소에 영구 저장**하는 명령.

### 패턴

```bash
# Conventional Commits 규칙 적용
git commit -m "커밋메시지"

```

### 기억에 남는 포인트

- 커밋은 **원자적 단위**로 하나의 기능/버그픽스만 포함

---

## 3. git push - 원격 저장소 동기화

### 핵심 개념

로컬 저장소의 커밋을 **원격 저장소에 업로드**하여 다른 개발자와 공유하는 명령

### 실무 push 전략

```bash
# 첫 번째 push
git push -u origin main

# 일반적인 push
git push
```

### 기억에 남는 포인트

- push 전 항상 `git status`로 상태 확인
- 공유 브랜치에 강제 push는 **절대 금지**

---

## 4. git pull - 원격 변경사항 가져오기

### 핵심 개념

원격 저장소의 변경사항을 로컬로 **가져와서 병합**하는 명령. `git fetch + git merge`의 조합입니다.

### 실무 pull 전략

```bash
# 기본 pull (merge 방식)
git pull
```

### 기억에 남는 포인트

- 충돌 발생 시 해결 후 `git add` → `git commit` 순서

---

## 5. git reset - 시간 되돌리기

### 핵심 개념

**HEAD 포인터를 이동**시켜 커밋 히스토리를 되돌리는 명령.

### 3가지 옵션별 동작

```bash
# --soft: 커밋만 되돌림 (스테이징 유지)
git reset --soft HEAD~1

# --mixed: 커밋 + 스테이징 되돌림 (기본값)
git reset HEAD~1

# --hard: 모든 변경사항 완전 삭제
git reset --hard HEAD~1

# 특정 파일만 unstage
git reset HEAD filename
```

| 옵션      | 커밋 히스토리 | 스테이징 영역 | 작업 디렉토리 |
| --------- | ------------- | ------------- | ------------- |
| `--soft`  | 되돌림 ✅     | 유지 ✅       | 유지 ✅       |
| `--mixed` | 되돌림 ✅     | 되돌림 ❌     | 유지 ✅       |
| `--hard`  | 되돌림 ✅     | 되돌림 ❌     | 되돌림 ❌     |

### 기억에 남는 포인트

- **`--hard` 사용 시 복구 불가능**하므로 신중하게 사용
- 공유된 커밋에는 reset 대신 revert 사용

---

## 6. git revert - 안전한 되돌리기

### 핵심 개념

이전 커밋을 취소하는 **새로운 커밋을 생성**하는 명령. 히스토리를 보존하면서 변경사항을 되돌립니다.

### 실무 revert 패턴

```bash
# 특정 커밋 되돌리기
git revert 3a2b1c4

# 여러 커밋 되돌리기
git revert HEAD~3..HEAD

# merge 커밋 되돌리기
git revert -m 1 merge_commit_hash

# 커밋 메시지 편집 없이 revert
git revert --no-edit HEAD
```

### reset vs revert 비교표

| 구분            | git reset | git revert   |
| --------------- | --------- | ------------ |
| **히스토리**    | 삭제/수정 | 보존         |
| **새 커밋**     | 생성 안함 | 생성함       |
| **공유 브랜치** | 위험 ❌   | 안전 ✅      |
| **사용 시점**   | 로컬 작업 | 배포 후 롤백 |

### 기억에 남는 포인트

- **공유된 브랜치에서는 revert만 사용** (협업 시 필수)
- revert도 커밋이므로 다시 revert 가능
- 프로덕션 환경 롤백 시 주로 사용

---

## 🎯 실무 팁 요약

1. **커밋 전 체크리스트**: `git status` → `git diff --staged` → `git commit`
2. **안전한 작업 순서**: 항상 pull → 작업 → commit → push
3. **위험한 명령어**: `git reset --hard`, `git push --force`는 신중하게
4. **복구의 마지막 희망**: `git reflog`로 대부분의 실수 복구 가능
5. **협업 룰**: 공유 브랜치에서는 히스토리 변경 금지
